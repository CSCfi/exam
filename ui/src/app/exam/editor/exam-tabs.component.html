<div id="dashboard">
    @if (collaborative) {
        <div class="sitnet-header-alt">
            <div class="col-md-12 header-wrapper">
                <span class="header-text">{{ 'i18n_collaborative_exams' | translate }}</span>
            </div>
        </div>
    }
    <div class="top-row">
        <div class="col-md-12">
            <div class="student-details-title-wrap">
                <a [routerLink]="[user.isAdmin ? '/staff/admin' : '/staff/teacher']">
                    <img class="pointer arrow_icon" src="/assets/images/icon_history.png" alt="go back" />
                </a>
                <div class="student-exam-details-title">{{ examInfo.title || 'loading' }}</div>
            </div>
            @if (exam?.state) {
                <span class="exam-status">{{ 'i18n_' + exam.state | lowercase | translate }} </span>
            }
        </div>
    </div>

    <ul
        ngbNav
        #nav="ngbNav"
        [(activeId)]="activeTab"
        [destroyOnHide]="false"
        class="nav-tabs ms-4 me-4"
        (navChange)="navChanged($event)"
    >
        <li [disabled]="!isOwner() && !user.isAdmin" [ngbNavItem]="1">
            <a ngbNavLink>{{ 'i18n_exam_basic_information_tab' | translate }}</a>
        </li>
        <li [disabled]="!isOwner() && !user.isAdmin" [ngbNavItem]="2">
            <a ngbNavLink>{{ 'i18n_exam_question_tab' | translate }}</a>
        </li>
        <li [disabled]="!isOwner() && !user.isAdmin" [ngbNavItem]="3">
            <a ngbNavLink>{{ 'i18n_exam_assessment_settings' | translate }}</a>
        </li>
        <li [disabled]="!isOwner() && !user.isAdmin" [ngbNavItem]="4">
            <a ngbNavLink>{{ 'i18n_exam_publish_tab' | translate }}</a>
        </li>
        <li [disabled]="exam.executionType?.type === 'PRINTOUT'" [ngbNavItem]="5">
            <a ngbNavLink>{{ 'i18n_exam_responses' | translate }}</a>
        </li>
        @if (exam && !collaborative && !user.isAdmin) {
            <li [disabled]="exam.executionType?.type === 'PRINTOUT'" [ngbNavItem]="6">
                <a ngbNavLink>{{ 'i18n_question_review' | translate }}</a>
            </li>
        }
        @if (exam && !collaborative) {
            <li [disabled]="(!isOwner() && !user.isAdmin) || exam.executionType?.type === 'PRINTOUT'" [ngbNavItem]="7">
                <a ngbNavLink>{{ 'i18n_exam_summary_tab' | translate }}</a>
            </li>
        }
    </ul>

    <div class="main-row">
        <div class="col-md-12">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>
