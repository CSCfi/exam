<div ngbDropdown>
    <button
        ngbDropdownToggle
        class="btn btn-outline-secondary"
        [ngClass]="{ 'dropdown-select-full-width': fullWidth }"
        type="button"
        aria-haspopup="true"
        aria-expanded="true"
        id="dd1"
    >
        {{ selected?.label || placeholder | translate }}
    </button>
    <ul ngbDropdownMenu class="scrollable-menu" role="menu" aria-labelledby="dd1">
        <li class="input-group p-2">
            <input
                [(ngModel)]="searchFilter"
                class="form-control"
                (input)="filterOptions()"
                (click)="$event.stopPropagation()"
                placeholder="{{ 'sitnet_search' | translate }}"
            />
            <div class="input-group-append">
                <span class="input-group-text">
                    <i class="bi-search"></i>
                </span>
            </div>
        </li>
        <li ngbDropdownItem (click)="clearSelection()">
            <a class="dropdown-item pointer">{{ placeholder | translate }}</a>
        </li>
        <li ngbDropdownItem *ngFor="let opt of filteredOptions" [ngClass]="getClasses(opt)" (click)="selectOption(opt)">
            <a *ngIf="!opt.isHeader">
                {{ opt.label | translate | slice: 0:40 }}
            </a>
            <span *ngIf="opt.isHeader">{{ opt.label }}</span>
        </li>
    </ul>
</div>
