<!--
SPDX-FileCopyrightText: 2024 The members of the EXAM Consortium

SPDX-License-Identifier: EUPL-1.2
-->

<div class="modal-header">
    <h4><i class="fa fa-exclamation"></i>&nbsp;&nbsp;{{ 'i18n_exception_time' | translate }}</h4>
</div>
<div class="modal-body">
    <div class="row">
        <div class="col">
            @if (!outOfService) {
                <div class="text-success">
                    {{ 'i18n_making_room_available' | translate }}
                </div>
            } @else {
                <div class="text-danger">
                    {{ 'i18n_making_room_out_of_service' | translate }}
                </div>
            }
            <div class="form-check mt-4">
                <label>
                    <input
                        class="form-check-input"
                        type="checkbox"
                        [checked]="wholeDay"
                        (change)="wholeDay = !wholeDay"
                        autofocus
                    />
                    {{ 'i18n_whole_day' | translate }}
                </label>
            </div>
        </div>
    </div>
    {{ 'i18n_repeating_info' | translate }}
    <div ngbDropdown>
        <button ngbDropdownToggle class="btn btn-outline-secondary" type="button" id="dropDownMenu1">
            {{ 'i18n_' + repeats.toLowerCase() | translate }}&nbsp;<span class="caret"></span>
        </button>
        <div ngbDropdownMenu aria-labelledby="dropDownMenu1">
            @for (ro of repeatOptions; track ro) {
                <button ngbDropdownItem (click)="repeats = ro" (keydown.enter)="repeats = ro">
                    {{ 'i18n_' + ro.toLowerCase() | translate }}
                </button>
            }
        </div>
    </div>
    <xm-repetition-options [mode]="repeats" [wholeDay]="wholeDay" (optionChanged)="optionChanged($event)" />
</div>
<div class="d-flex flex-row-reverse flex-align-r m-3">
    <button class="btn btn-success" (click)="ok()">
        {{ 'i18n_button_save' | translate }}
    </button>
    <button class="btn btn-outline-secondary me-3" (click)="cancel()">
        {{ 'i18n_button_cancel' | translate }}
    </button>
</div>
