<div class="section-header row">
    <div class="sitnet-info-text" style="margin-left: 4em">{{'sitnet_section_name' | translate}}:</div>
    <div class="col-md-1 pull-left fa-stack fa-lg">
        <i class="fa icon-theme fa-stop fa-stack-2x"></i>
        <span class="fa sitnet-white fa-stack-1x">{{$index+1}}.</span>
    </div>
    <div class="col-md-6 pull-left">
        <input type="text" class="form-control ng-pristine ng-valid "
               ng-model="section.name"
               ui-change="renameSection(section)" style="font-size: 1.3em"/>
    </div>
    <div class="pull-right">
        <a class="sub-header-icon pull-right fa-stack fa-lg pointer" popover-placement="left" popover-popup-delay="1000" popover-trigger="mouseenter" popover="{{ 'sitnet_show' | translate }} / {{ 'sitnet_hide' | translate }}" ng-click="section.expanded = !section.expanded; expandSection(section)">
            <i class="fa sitnet-white fa-stop fa-stack-2x"></i>
            <i ng-class="section.expanded ? 'fa fa-chevron-left fa-stack-1x' : 'fa fa-chevron-down fa-stack-1x'"></i>
        </a>
    </div>
    <div class="dropdown pull-right" ng-click="editSection(section)">
        <a class="dropdown-toggle sub-header-icon pull-right fa-stack fa-lg">
            <i class="fa sitnet-white fa-stop fa-stack-2x"></i>
            <i class="fa fa-wrench fa-stack-1x"></i>
        </a>
        <ul class="dropdown-menu">
            <li><a ng-click="clearAllQuestions(section)" class="pointer-hand">{{'sitnet_exam_clear' | translate}}</a></li>
            <li><a ng-click="removeSection(section)" class="pointer-hand">{{'sitnet_exam_remove' | translate}}</a></li>
        </ul>
    </div>

    <div class="col-md-4 pull-left" >
        <span style="padding-right: 1em; " class="pointer-hand">
            <input style="margin-right: 1em" type="checkbox" name="On" value="On"
                   ng-disabled="section.sectionQuestions.length < 2" ng-click="toggleLottery(section)"
                   ng-model="section.lotteryOn">
                {{'sitnet_randomize_questions' | translate}}
            </input>
        </span>
        <span ng-show="section.lotteryOn && section.sectionQuestions.length > 1">
            <input type="number" name="" min="1" value="1" max="{{section.sectionQuestions.length}}"
                   ng-model="section.lotteryItemCount" ui-blur="updateLotteryCount(section)" autofocus>
        </span>
        <span ng-show="section.lotteryOn && section.sectionQuestions.length > 1">/ {{section.sectionQuestions.length}}</span>
    </div>
</div>
<div class="row">
    <div class="col-md-12" ng-show="section.expanded">
        <ul droppable="section.sectionQuestions" ng-move="moveQuestion(section, from, to)"
            ng-create="insertQuestion(section, object, to)" class="sortable">
            <li ng-show="section.sectionQuestions" class="sectionQuestion" ng-include="questionPath"
                ng-repeat="sectionQuestion in section.sectionQuestions | orderBy:sequenceNumber">
            </li>
            <li ng-show="section.sectionQuestions.length == 0" class="create-new dropdown">

            </li>
        </ul>
        <div class="create-new dropdown">
            <a class="dropdown-toggle">
                <i class="fa fa-2x fa-plus-circle"></i>
                {{'sitnet_add_content'|translate}}
            </a>
            <ul class="dropdown-menu">
                <li>
                    <a ng-click="createQuestionFromExamView('EssayQuestion', section)">{{ 'sitnet_essay' | translate }}</a>
                </li>
                <li>
                    <a ng-click="createQuestionFromExamView('MultipleChoiceQuestion', section)">{{ 'sitnet_question_mc' | translate }}</a>
                </li>
            </ul>
        </div>
    </div>
</div>