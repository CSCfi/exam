<div id="question-editor" ng-controller="QuestionCtrl">
	<h2>{{'sitnet_questions_new' | translate}}</h2>
	<div class="col-md-8">
		<div class="base">
			<div class="form-group">
				<div class="row">
					<!-- Question header -->
					<div class="question-header">
						<h4>
							<span class="editable" ng-hide="showDetails" ng-click="showDetails = !showDetails">
								<i class="fa fa-list-ul fa-1x"></i>
								{{newQuestion.question}}
								<i class="fa fa-pencil"></i>
							</span>
							<span class="pull-right fa-stack fa-lg dropdown" ng-click="editSection(section)">
								<a class="dropdown-toggle"> <i class="sitnet-blue fa fa-square fa-stack-2x"></i> <i class="sitnet-white fa fa-cog fa-stack-1x"></i>
								</a>
								<ul class="dropdown-menu">
									<li><a class="pointer-hand">Asetukset</a></li>
									<li><a ng-click="removeSection(section)" class="pointer-hand">Poista</a></li>
								</ul>
							</span>
							<span ng-click="toggleSection(section)" class="pull-right fa-stack fa-lg">
								<i class="sitnet-grey fa fa-square fa-stack-2x"></i>
								<i ng-class="section.hide ? 'fa-chevron-left' : 'fa-chevron-down'" class="sitnet-white fa fa-chevron-left fa-stack-1x"></i>
							</span>
							<div ng-show="showDetails">
								<form class="form-inline" role="form">
									<div class="form-group">
										<input type="text" class="form-control input-lg" ng-model="newQuestion.question" autofocus>
									</div>
									<button class="btn-primary" ng-click="showDetails = !showDetails">
										<i class="fa fa-check"></i>
									</button>
								</form>
							</div>
						</h4>
					</div>
					<hr>
					<!-- Question fields -->

					<div>
						<i>Kysymykseen liittyvä aputeksti/liitetiedosto</i>
						<input type="text" class="form-control ng-pristine ng-valid" placeholder="Aputeksti">
						<hr>
						<form action="">
							<div class="ng-scope" ng-repeat="option in newQuestion.options">
								<div class="" ng-include="newOptionTemplate"></div>
							</div>
						</form>
						<span ng-click="addNewOption(newQuestion)" class="create-new">
							<i class="fa fa-plus-circle"></i>
							{{'sitnet_question_add_new_option'|translate}}
						</span>
					</div>


				</div>
			</div>


			<!-- 			<div class="section" ui-on-Drop="onDrop($event, $data, section.questions)" ng-include="sectionPath" ng-repeat="section in sections"></div> -->


		</div>
		<button ng-click="saveQuestion()" type="submit" class="btn btn-default">{{'sitnet_save' | translate}}</button>
	</div>


	<!-- Library  -->
	<div id="library" class="col-md-4">
		<div class="library-header">
			<h4>
				<i class="fa fa-briefcase"></i>
				{{'sitnet_library' | translate}}
			</h4>
		</div>
		<div class="library" ng-controller="LibraryCtrl">
			<div class="input-group">
				<input ng-model="libraryFilter" type="text" class="form-control" placeholder="{{'sitnet_search' | translate }}">
				<span class="input-group-addon">
					<i class="fa fa-search fa-fw"></i>
				</span>
			</div>
			<select class="form-control">
				<option ng-repeat="type in contentTypes">{{type}}</option>
			</select>
			<ul class="results">
				<li ui-draggable="true" drag="link" ng-class="{selected: isActive(link)}" ng-repeat="link in links | filter:libraryFilter"><i
						class="fa fa-2x fa-fw {{link.icon}}"></i> <span class="menu-item">{{link.name}}</span></li>
			</ul>
		</div>
	</div>
</div>