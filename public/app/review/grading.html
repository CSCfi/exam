<div class="top-row">
    <!-- Total score -->
    <div class="col-md-12" ng-show="getExamMaxPossibleScore(exam) > 0">
        {{'sitnet_total_score' | translate}}: {{getExamTotalScore(exam)}} / {{
        getExamMaxPossibleScore(exam) }}
    </div>
</div>

<div class="detail-row">
    <!-- Approved -->
    <div class="col-md-12" ng-if="hasEssayQuestions">
        {{ 'sitnet_approved' | translate }}: {{ acceptedEssays }}
    </div>
</div>

<div class="detail-row bottom-padding-2">
    <!-- Rejected -->
    <div class="col-md-12" ng-if="hasEssayQuestions">
        {{ 'sitnet_rejected' | translate }}: {{ rejectedEssays }}
    </div>
</div>

<div class="main-row" ng-show="isReadOnly()">
    <strong class="col-md-12">{{'sitnet_teachers_comment' | translate}}:</strong>
</div>

<div class="detail-row" ng-show="isReadOnly()">
    <div class="col-md-12" mathjax ng-bind-html="exam.examFeedback.comment"></div>
</div>
<div class="main-row" ng-show="getTeacherCount() > 1">
    <div>
        <div class="col-md-6">
            <div class="row">
                <strong class="col-md-4">
                    {{'sitnet_exam_owners' | translate}}
                </strong>
                <strong class="col-md-4">
                    {{'sitnet_exam_instructor' | translate}}
                </strong>
                <strong class="col-md-4">
                    {{'sitnet_inspection_status' | translate}}
                </strong>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div ng-if="exam.parent.examOwners.length > 0" class="pull-left col-md-12 row"
                         ng-repeat="teacher in exam.parent.examOwners">
                        <b>{{teacher.firstName}} {{teacher.lastName}}</b>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="row" ng-repeat="inspection in inspections">
                        <div class="col-md-6">
                            {{ inspection.user.firstName }} {{ inspection.user.lastName }}
                        </div>
                        <div class="col-md-4">
                            <span ng-show="inspection.user.id !== user.id">
                                <span class="sitnet-text-ready" ng-show="inspection.ready">{{'sitnet_ready' | translate}}</span>
                                <span class="sitnet-text-alarm"
                                      ng-hide="inspection.ready">{{'sitnet_in_progress' | translate}}</span>
                            </span>
                            <span class="input-group-sm" ng-hide="inspection.user.id !== user.id">
                                <select ng-model="inspection.ready" class="form-control"
                                        ng-disabled="isGraded() || isReadOnly()"
                                        ng-options="s.key as s.value for s in reviewStatus"
                                        ng-change="toggleReady()" ng-show="inspection.user.id === user.id">
                                </select>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row">
                <strong class="col-md-12">
                    {{'sitnet_send_to_other_reviewers' | translate}}:
                </strong>
            </div>
            <div class="row">
                <div class="col-md-12">
                <textarea class="form-control" ng-model="$parent.message" rows="3" cols="120"
                          ng-disabled="isReadOnly()">
                </textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <input type="button" class="btn btn-link"
                           ng-disabled="isReadOnly()" ng-click="sendEmailMessage()"
                           value="{{'sitnet_send' | translate}}"/>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-md-12">
    <strong class="col-md-12">{{'sitnet_grading_info' | translate}}:</strong>
</div>
<div class="detail-row">
    <div class="col-md-12">
        <form name="examForm" role="form" novalidate>
            <div class="form-group">
                <div class="col-md-2">
                    <label for="examGrade">{{'sitnet_exam_grade' | translate}}:</label>
                    <select id="examGrade"
                            name="examGrade"
                            class="form-control"
                            ng-model="selections.grade"
                            ng-disabled="isReadOnly() || !isOwnerOrAdmin()"
                            ng-change="setGrade()"
                            required
                            ng-options="grade.name for grade in examGrading">
                        <option value=""
                                ng-selected="!exam.grade">{{'sitnet_choose' | translate}}
                        </option>
                    </select>
                </div>

                <div class="col-md-2">
                    <label for="creditType">{{'sitnet_exam_choose_credit_type' | translate}}:</label>
                    <select id="creditType" name="creditType" class="form-control"
                            ng-model="selections.type"
                            ng-change="setCreditType()"
                            ng-disabled="isReadOnly() || !isOwnerOrAdmin()" required
                            ng-options="type.name for type in examTypes">
                        <option value="">{{'sitnet_choose' | translate}}</option>
                    </select>
                </div>

                <div class="col-md-2">
                    <label for="answerLanguage">{{'sitnet_exam_record_language' | translate}}:</label>
                    <select id="answerLanguage" name="answerLanguage" class="form-control"
                            ng-disabled="isReadOnly() || !isOwnerOrAdmin()"
                            ng-model="selections.language"
                            ng-change="setLanguage(selections.language)" required
                            ng-options="lang.name for lang in languages">
                        <option value="">{{'sitnet_choose' | translate}}</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="customCredit">{{'sitnet_exam_credit' | translate}} (op):</label>
                    <input id="customCredit" type="number" ng-disabled="isReadOnly() || !isOwnerOrAdmin()"
                           required min="0"
                           class="form-control" maxlength="3" ng-model="exam.customCredit"/>
                </div>
                <div class="col-md-4 form-group">
                    <label for="infoForRegistry">{{'sitnet_additional_info_for_registry' | translate}}:</label>
                    <textarea id="infoForRegistry" class="form-control" ng-model="exam.additionalInfo"
                              rows="3"
                              ng-disabled="isReadOnly() || !isOwnerOrAdmin()">
                    </textarea>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Bottom toolbar -->
<div ng-include="toolbarPath"></div>
