<script type="text/javascript">

    $(function () {
        $("#draggable").draggable({
            containment: "window",
            // fix for https://bugs.jqueryui.com/ticket/10725
            drag: function () {
                $(this).css('height', 'auto');
            }
        });
    });

</script>
<div id="feedback" ng-hide="(isGraded() && !isOwnerOrAdmin()) || isReadOnly()">
    <div id="draggable" class="wrapper">
        <div class="row">
            <div class="col-md-1" popover-placement="right" popover-popup-delay="500" popover-trigger="mouseenter"
                 uib-popover="{{hideEditor ? 'sitnet_show' : 'sitnet_hide' | translate}}">
                <i ng-click="toggleFeedbackVisibility()" class="pointer fa fa-2x vcenter"
                   ng-class="hideEditor ? 'fa-chevron-circle-right sitnet-green' : 'fa-chevron-circle-down sitnet-red'">
                </i>
            </div>
            <div class="col-md-11">
                <div class="vcenter">
                    {{'sitnet_give_feedback' | translate}}
                </div>
            </div>
        </div>
        <div class="body">
            <div class="row editor">
                <div class="col-md-12">
                    <textarea ck-editor rows="10" ng-model="exam.examFeedback.comment"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <button class="btn btn-default" ng-click="saveFeedback()">{{'sitnet_save' | translate}}</button>
                </div>
                <div class="col-md-10">
                    <div class="pull-right">
                            <span ng-controller="AttachmentController"
                                  ng-show="exam.examFeedback && exam.examFeedback.attachment">
                                <a class="pointer" ng-click="downloadFeedbackAttachment(exam)">{{exam.examFeedback.attachment.fileName}}</a>
                                <span class="sitnet-red pointer" ng-click="removeFeedbackAttachment(exam)">
                                    <i class="fa fa-times" title="{{'sitnet_remove_attachment' | translate }}"></i>
                                </span>
                            </span>
                        <button type="button" class="btn btn-default" ng-click="selectFile()">{{'sitnet_attach_file' |
                            translate}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
