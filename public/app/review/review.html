<!-- Refresh MathJax syntax some time after page was rendered -->
<script type="text/javascript">
    $(document).ready(function () {
        setTimeout(function () {
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }, 500);

    });

</script>


<div id="dashboard">

    <div class="top-row">
        <div class="col-md-12" >
            <div class="student-details-title-wrap">
                <a href="/exams/examTabs/{{exam.parent.id}}/4">
                    <img class="arrow_icon" src="../../../assets/assets/images/icon_history.png"></a>
                    <div class="student-exam-details-title">{{'sitnet_exam_review' | translate}}</div>
            </div>

            <div class="review-attachment-button print-button">
                <a ng-click="printExam()" class="pointer">
                    {{'sitnet_print' | translate}}&nbsp;&nbsp;
                </a>
            </div>

            <div class="status-floater">
                <span class="inspection-title">{{'sitnet_inspection_status' | translate}}:</span>
                <span ng-if="exam.state === 'ABORTED'"
                      class="status">{{'sitnet_aborted_exam' | translate}}
                </span>
                <span ng-if="exam.state ==='REVIEW' || exam.state === 'REVIEW_STARTED'  || exam.state === 'STUDENT_STARTED'"
                      class="status">{{'sitnet_exam_status_' + exam.state | lowercase | translate}}
                </span>
                <span ng-if="exam.state === 'GRADED'" class="status">
                    {{'sitnet_exam_status_' + exam.state | lowercase | translate}}
                </span>
                <span ng-if="exam.state === 'GRADED_LOGGED'" class="status">
                    {{'sitnet_exam_status_' + exam.state | lowercase | translate}}
                </span>
                <span ng-if="exam.state === 'REJECTED'" class="status">
                    {{'sitnet_exam_status_' + exam.state | lowercase | translate}}
                </span>

            </div>
        </div>
    </div>

    <div class="tab-wrapper-exams review">
        <div class="review-border">
            <div class="padt50 padl30 padr30">
                <div class="review-list-title">{{exam.course.code}} - {{exam.name}}, {{exam.course.credits}} op
                    <a class="pointer" ng-click="hideGeneralInfo = !hideGeneralInfo">
                        <img ng-show="hideGeneralInfo" src="../../../assets/assets/images/icon_list_show_right.svg" alt="exam"
                             onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_list_show_right.png'" />
                        <img ng-show="!hideGeneralInfo" src="../../../assets/assets/images/icon_list_show_down.svg" alt="exam"
                             onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_list_show_down.png'" />
                    </a>
                </div>
            </div>
            <!-- General Information -->
            <div ng-include="generalInfoPath"></div>

        </div>
    </div>


    <!-- Sections -->
    <div ng-include="reviewSectionPath" ng-repeat="section in exam.examSections | orderBy: 'sequenceNumber'"></div>

    <div class="tab-wrapper-exams review">
        <div class="review-border">

            <div class="padt50 padl30 padr30">
                <div class="review-list-title">

                    <span class="review-question-title">{{ 'sitnet_grading_info' | translate }}</span>
                    <a ng-click="hideGradeInfo = !hideGradeInfo">
                        <img ng-show="hideGradeInfo" src="../../../assets/assets/images/icon_list_show_right.svg" alt="exam"
                             onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_list_show_right.png'" />
                        <img ng-hide="hideGradeInfo" src="../../../assets/assets/images/icon_list_show_down.svg" alt="exam"
                             onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_list_show_down.png'" />
                    </a>
                </div>
            </div>

            <div ng-hide="hideGradeInfo" class="padl15 padr15">

                <!-- Grading -->
                <div ng-include="gradingPath"></div>

            </div>
            <!-- Floating feedback window -->
            <div ng-include="feedbackWindowPath"></div>


        </div>
    </div>

</div>
