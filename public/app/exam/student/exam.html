
<div id="studentexam">


    <div class="row">
        <div class="md-col-12">
            <div class="exam-header">
                <div class="exam-header-img-wrap"><img src="../../../assets/assets/images/exam-logo-mobile.svg" alt="exam" onerror="this.onerror=null;this.src='../../../assets/assets/images/exam-logo-mobile.png'" /></div>
                <div class="exam-header-title divider"></div>
                <div class="exam-header-title">{{ exam.course.name }} <span>{{ exam.course.code }}</span></div>


                <div class="floating-clock">
                    <div class="header-wrapper">
                    <span ng-hide="isPreview()">
                        <span class="exam-clock-text"><span class="sitnet-white">{{'sitnet_exam_time_left' | translate}}: </span></span>
                        <span class="exam-clock">
                            <span ng-if="remainingTime > alarmLine && showClock">{{formatRemainingTime(remainingTime)}}</span>
                            <span ng-if="remainingTime <= alarmLine && showClock" class="sitnet-text-alarm">{{formatRemainingTime(remainingTime)}}</span>
                            <span class="clock-hide" ng-if="!showClock"><i>Kello piilotettu</i></span>
                        </span>
                    </span>
                        <span><img ng-click="clockManagement()" src="../../../assets/assets/images/icon_clock.svg" alt="exam" onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_clock.png'" /></span></div>
                </div>

            </div>
        </div>
    </div>


    <div class="row">

        <!-- LEFT COLUMN -->
        <div class="col-md-9">

                <!-- EXAM AREA -->
                <div class="row">
                    <div class="col-md-12 bottom-padding-2">
                        <div class="row" ng-show="!guide">
                            <div class="col-md-12 studentexam-header">
                                <span class="exam-title">{{activeSection.index}}. {{activeSection.name}}</span>
                                    <span ng-show="isPreview() && activeSection.lotteryOn" class="sitnet-text-medium">
                                        <small>({{ 'sitnet_lottery_questions' | translate }})</small>
                                    </span>
                            </div>
                            <div class="guide-column">
                                <div class="list-group" ng-include="sectionTemplate"></div>
                            </div>
                        </div>

                        <div class="row" ng-show="guide">
                            <div class="col-md-12 studentexam-header">
                                <span class="exam-title">{{'sitnet_exam_guide' | translate}}</span>
                            </div>

                            <div class="col-md-12 guide-wrapper pad-15">
                                <div class="guide-column">
                                    <span class="header col-md-2"><span>{{ 'sitnet_course_name' | translate }}:</span></span>
                                    <span class="text col-md-10">{{ exam.course.name }}&nbsp;</span>
                                </div>
                                <div class="guide-column">
                                    <span class="header col-md-2"><span>{{ 'sitnet_course_code' | translate }}:</span></span>
                                    <span class="text col-md-10">{{ exam.course.code }}&nbsp;</span>
                                </div>
                                <div class="guide-column">
                                    <span class="header col-md-2"><span>{{ 'sitnet_exam_name' | translate }}:</span></span>
                                    <span class="text col-md-10">{{ exam.name }}&nbsp;</span>
                                </div>
                                <div class="guide-column">
                                    <span class="header col-md-2"><span>{{ 'sitnet_exam_duration' | translate }}:</span></span>
                                    <span class="text col-md-10">{{ printExamDuration(exam) }}&nbsp;</span>
                                </div>

                                <div class="guide-column padtop">
                                    <span>{{ 'sitnet_exam_guide' | translate }}:</span>
                                </div>
                                <div class="guide-column">
                                    <div class="list-group" ng-include="sectionTemplate"></div>
                                </div>

                            </div>

                        </div>

                        <!-- SECTION NAVIGATION ARROWS AND LABELS -->
                        <div class="row exam-navigation">
                            <span class="col-md-12">
                                <!-- PREVIOUS SECTION BUTTON -->
                                <a class="green_button previous" ng-show="previousButton.valid && !guide"
                                   ng-click="setPreviousSection()">
                                    <img class="arrow_icon" src="../../../assets/assets/images/icon_left_white.png"> {{ previousButton.text }}
                                </a>
                                <!-- NEXT SECTION BUTTON -->
                                <a class="green_button" ng-show="nextButton.valid" ng-click="setNextSection()">
                                    {{ nextButton.text }} <img class="arrow_icon" src="../../../assets/assets/images/icon_right_white.png">
                                </a>
                            </span>
                        </div>
                    </div>
                </div>

        </div>

        <!-- RIGHT COLUMN -->
        <div class="col-md-3">


            <!-- SECTIONS AREA -->
            <div class="top-padding-6">
                <div class="col-md-12 bottom-padding-2 right-column-box">

                    <!-- USERNAME -->
                    <div class="info-column bot-border">
                        <img src="../../../assets/assets/images/icon_user.svg" alt="exam" onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_user.png'" /><span class="user-span">{{ getUser() }}</span>
                    </div>

                    <!-- SAVE -->
                    <div class="col-md-12 " ng-hide="isPreview()">
                        <div class="row pointer" ng-click="saveExam(exam)">
                            <a class="green_button save-and-exit">{{'sitnet_save_and_return_exam' | translate}}</a>
                        </div>
                    </div>

                    <!-- ABORT -->
                    <div class="col-md-12 button-separator" ng-hide="isPreview()">
                        <div class="row pointer" ng-click="abortExam(exam)">
                            <a class="grey-button abort-and-exit">
                                <img src="../../../assets/assets/images/icon_exit.svg" alt="exam" onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_exit.png'" /><span class="abort-and-exit">{{'sitnet_abort_exam' | translate}}</span>
                            </a>
                       </div>
                    </div>
                </div>

                <!-- COURSE NAME -->
                <div class="col-md-12"><div class="more-separators"></div></div>
                <div class="col-md-12 right-title">{{ exam.course.name }}</div>

                <!-- ATTACHMENT -->
                <div class="col-md-12" ng-show="exam.attachment" ng-controller="AttachmentController">
                    <div class="row pointer attachment-button" ng-click="downloadExamAttachment(exam)">
                        <a class="green_button left-floater">
                            {{'sitnet_exam_attachment' | translate}} <img src="../../../assets/assets/images/icon_attachment.svg" alt="exam" onerror="this.onerror=null;this.src='../../../assets/assets/images/icon_attachment.png'" />
                        </a>
                    </div>
                    <div class="attachment-name">{{exam.attachment.fileName}}</div>

                </div>


                <div class="col-md-12 top-padding-2 bottom-padding-2" ng-include="sectionsBar"></div>


                <div class="col-md-12 top-padding-2" ng-show="isPreview()">
                    <div class="row pointer" ng-click="exitPreview(exam)">
                        <a class="col-md-1 fa-stack">
                            <i class="fa fa-stop-o fa-stack-2x"></i>
                            <i class="fa fa-ban fa-stack-2x sitnet-text-alarm"/>
                        </a>
                        <div class="col-md-10 vcenter">
                            {{'sitnet_exit_preview' | translate}}
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
