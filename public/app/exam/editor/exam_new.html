<div id="dashboard">
    <div class="top-row">
        <div class="col-md-12">
            <div class="student-details-title-wrap">
                <a href="/"><img class="arrow_icon" src="../../../assets/assets/images/icon_history.png"></a>
                <div class="student-enroll-title-wrap">
                    <div class="student-enroll-title">{{'sitnet_toolbar_new_exam' | translate}}</div>
                </div>

            </div>
        </div>
    </div>

    <div class="col-md-12">

        <div class="col-md-11 marl50 marr50 exam-new-border">


        <div class="margin-20 marl30 marr30 marb20">
            <div class="review-list-title">{{ 'sitnet_exam_title' | translate }}
            </div>
        </div>

        <div class="padl40 padr40">

            <div class="col-md-12 margin-20 padl0 padr0">
                <div class="col-md-3 exam-basic-title padl0">
                    {{'sitnet_new_exam_type' | translate}}
                </div>
                <div class="col-md-9">
                    <select ng-if="newExam && !newExam.id"
                            id="createExam"
                            name="createExam"
                            class="form-control"
                            ng-model="createExamModel.type"
                            ng-disabled="typeSelected"
                            ng-change="createExam()"
                            required
                            ng-options="type.name | translate for type in executionTypes">
                        <option value="">{{'sitnet_choose' | translate}}
                        </option>
                    </select>
                    <span ng-if="newExam.id">{{ getExecutionTypeTranslation() | translate}}</span>
                </div>
            </div>

        </div>

        <div class="margin-20 marb20">&nbsp;</div>

        <div ng-show="typeSelected">

            <div class="margin-20 marl30 marr30 marb20 padt50">
                <div class="review-list-title">{{ 'sitnet_select_exam_course' | translate }}
                </div>
            </div>

            <script type="text/ng-template" id="course_template.html">
            <a style="cursor: pointer;">
                <span style="cursor:pointer;font-weight: 500;" bind-html-unsafe="match.label"></span>
                <span style="font-size:0.70em;color:#bbb;text-transform: uppercase;cursor:pointer;">{{match.model.code}} {{match.model.name}}</span>
            </a>
            </script>
            <div class="col-md-12" ng-controller="CourseTypeaheadCtrl">

                <div class="row margin-20 marl0">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-3">
                        <div class="exam-basic-selecttitle">{{'sitnet_course_code' | translate}}</div>
                    </div>
                    <div class="col-md-6">
                        <div class="exam-basic-selecttitle">{{'sitnet_course_name' | translate}}</div>
                    </div>
                </div>

                <div class="row mar0">
                    <div class="col-md-3">
                        <div class="exam-basic-title">{{'sitnet_course' | translate}}</div>
                    </div>
                    <div class="col-md-3">
                        <div class="input-group">
                            <input type="text" class="form-control ng-pristine ng-valid"
                                   ng-model="newExam.course.code"
                                   placeholder="{{'sitnet_search_course_by_code' | translate}}"
                                   uib-typeahead="c as c.code for c in getCourses('code', $viewValue)"
                                   typeahead-on-select="onCourseSelect($item, $model, $label, newExam)"
                                   typeahead-wait-ms="200"
                                   typeahead-focus-first="false"
                                   typeahead-min-length="2"
                                   typeahead-template-url="course_template.html"
                                   typeahead-loading="loadingCoursesByCode">
                                       <span class="input-group-addon">
                                            <i ng-hide="loadingCoursesByCode" class="fa fa-question-circle fa-fw" popover-placement="left" popover-trigger="mouseenter" uib-popover="{{'sitnet_course_unique_code' | translate}}"></i>
                                            <i ng-show="loadingCoursesByCode" class="fa fa-spinner fa-spin horizontal-padding-05"></i>
                                       </span>

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control ng-pristine ng-valid"
                                   ng-model="newExam.course.name"
                                   uib-typeahead="c as c.name for c in getCourses('name', $viewValue)"
                                   typeahead-on-select="onCourseSelect($item, $model, $label, newExam)"
                                   typeahead-wait-ms="200"
                                   typeahead-focus-first="false"
                                   typeahead-min-length="2"
                                   typeahead-template-url="course_template.html"
                                   typeahead-loading="loadingCoursesByName">
                                       <span class="input-group-addon">
                                           <i ng-hide="loadingCoursesByName" class="fa fa-question-circle fa-fw" popover-placement="left" popover-trigger="mouseenter" uib-popover="{{'sitnet_course_name' | translate}}"></i>
                                           <i ng-show="loadingCoursesByName" class="fa fa-spinner fa-spin horizontal-padding-05"></i>
                                       </span>
                        </div>
                    </div>
                </div>

                <!-- Course scope and organization name elements -->
                <div class="row margin-20 marl0" ng-if="newExam.course.credits">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-3">
                        <div>{{'sitnet_course_scope' | translate}}</div>
                    </div>
                    <div class="col-md-6">
                        <div>{{newExam.course.credits}}</div>
                    </div>
                </div>
                <div class="row margin-20 marl0" ng-if="newExam.course.organisation.name">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-3">
                        <div>{{'sitnet_faculty_name' | translate}}</div>
                    </div>
                    <div class="col-md-6">
                        <div>{{newExam.course.organisation.name}}</div>
                    </div>
                </div>

                <!-- buttons -->
                <div class="row col-md-12 padr0 mart40">
                    <span class="pull-right">
                        <div ng-show="newExam.state === 'DRAFT'" class="review-attachment-button make-inline">
                            <a target="_self" class="pointer cancel padr60 padl60" ng-click="cancelNewExam(newExam)">
                            {{'sitnet_button_cancel' | translate}}
                        </a></div>
                        <div class="review-attachment-button exam-questions-buttons marl10">
                            <button class="btn exam-button padr60 padl60"
                                    ng-disabled="newExam.course === undefined || newExam.course.id === undefined || newExam.course.id < 1"
                                    ng-click="continueToExam()">
                            {{'sitnet_save' | translate}}
                        </button></div>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
