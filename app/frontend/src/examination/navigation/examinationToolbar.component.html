<!-- SECTIONS AREA -->
<div class="top-padding-6">
    <div class="row bottom-padding-2 right-column-box padr15 padl15">
        <!-- USERNAME -->
        <div class="info-column bot-border">
            <img
                src="/assets/assets/images/icon_user.svg"
                alt="user info"
                onerror="this.onerror=null;this.src='/assets/assets/images/icon_user.png';"
            /><span class="user-span">{{ displayUser() }}</span>
        </div>

        <!-- RETURN -->
        <div class="" [hidden]="isPreview">
            <div class="pointer" tabindex="0" (click)="turnExam()" (keyup.enter)="turnExam()">
                <a class="green_button save-and-exit">{{ 'sitnet_save_and_return_exam' | translate }}</a>
            </div>
        </div>

        <!-- ABORT -->
        <div class="button-separator" [hidden]="isPreview">
            <div class="pointer" tabindex="0" (click)="abortExam()" (keyup.enter)="abortExam()">
                <a class="grey-button abort-and-exit">
                    <img
                        src="/assets/assets/images/icon_exit.svg"
                        alt="abort exam"
                        onerror="this.onerror=null;this.src='/assets/assets/images/icon_exit.png';"
                    /><span class="abort-and-exit">{{ 'sitnet_abort_exam' | translate }}</span>
                </a>
            </div>
        </div>
    </div>

    <!-- COURSE NAME -->
    <div class="padl15">
        <div class="more-separators"></div>
    </div>
    <div class="right-title">{{ exam.course.name }}</div>

    <!-- ATTACHMENT -->
    <div class="padl20" [hidden]="!exam.attachment">
        <div
            class="row pointer attachment-button"
            tabindex="0"
            (click)="downloadExamAttachment()"
            (keyup.enter)="downloadExamAttachment()"
        >
            <a class="green_button left-floater">
                {{ 'sitnet_exam_attachment' | translate }}
                <img
                    src="/assets/assets/images/icon_attachment.svg"
                    alt="attachment"
                    onerror="this.onerror=null;this.src='/assets/assets/images/icon_attachment.png';"
                />
            </a>
        </div>
        <div class="attachment-name">{{ exam.attachment.fileName | uppercase }}</div>
    </div>

    <div class="top-padding-2 bottom-padding-2 padl15">
        <ul class="list-muted">
            <li
                tabindex="0"
                class="row pointer phase-box"
                [ngClass]="!activeSection ? '' : 'notactive'"
                (click)="selectGuidePage()"
                (keyup.enter)="selectGuidePage()"
            >
                <div class="col-md-11 vcenter">{{ 'sitnet_exam_guide' | translate }}</div>
            </li>

            <li
                tabindex="0"
                class="row pointer phase-box"
                *ngFor="let section of exam.examSections | orderBy: 'sequenceNumber'"
                [ngClass]="activeSection.index === section.index ? '' : 'notactive'"
                (click)="selectSection(section)"
                (keyup.enter)="selectSection(section)"
                ngbPopover="{{ section.name }}: {{ 'sitnet_question_status_answered' | translate }}
                 {{ getQuestionAmount(section, 'answered') }}, {{ 'sitnet_questions_total' | translate }}
                 {{ getQuestionAmount(section, 'total') }}"
                placement="left"
                triggers="mouseenter:focus"
            >
                <div class="pull-left marr10">
                    <div
                        class="question-type-img-wrap"
                        *ngIf="getQuestionAmount(section, 'answered') === getQuestionAmount(section, 'total')"
                    >
                        <img
                            src="/assets/assets/images/icon_question_type_ready_grey.png"
                            alt="all questions answered"
                            onerror="this.onerror=null;this.src='/assets/assets/images/icon_question_type_ready_grey.png';"
                        />
                    </div>
                    <div
                        class="question-type-img-wrap"
                        *ngIf="getQuestionAmount(section, 'answered') !== getQuestionAmount(section, 'total')"
                    >
                        <img
                            src="/assets/assets/images/icon_question_type_waiting.svg"
                            alt="unanswered questions remain"
                            onerror="this.onerror=null;this.src='/assets/assets/images/icon_question_type_waiting.png';"
                        />
                    </div>
                </div>

                <div
                    class="vcenter"
                    [ngClass]="activeSection.index === section.index ? 'sitnet-text' : 'sitnet-text-dark'"
                >
                    {{ section.index }}. {{ section.name }}
                </div>
                <div class="pull-right vcenter section-answered">
                    <span class="pull-left">{{ getQuestionAmount(section, 'answered') }}</span>
                    <span class="pull-left horizontal-padding-05"> / </span>
                    <span class="pull-left">{{ getQuestionAmount(section, 'total') }}</span>
                </div>
            </li>
        </ul>

        <!-- INSTRUCTIONS -->
        <div class="col-md-12" [hidden]="!room || exam.executionType.type === 'MATURITY'">
            <div
                tabindex="0"
                class="row pointer"
                ngbPopover="{{ displayRoomInstructions() }}"
                placement="left"
                triggers="mouseenter:focus"
            >
                <a class="col-md-1" style="margin-top: 7px;">
                    <img
                        src="/assets/assets/images/icon_info.svg"
                        alt="room guidance"
                        onerror="this.onerror=null;this.src='/assets/assets/images/icon_info.png';"
                    />
                </a>
                <div class="col-md-10 question-text question-type-text info">
                    {{ 'sitnet_room_guidance' | translate }}
                </div>
            </div>
        </div>

        <!-- MATURITY INSTRUCTIONS -->
        <div
            class="col-md-12"
            tabindex="0"
            (click)="showMaturityInstructions()"
            (keyup.enter)="showMaturityInstructions()"
            [hidden]="exam.executionType.type !== 'MATURITY'"
        >
            <div class="row pointer">
                <a class="col-md-1" style="margin-top: 7px;">
                    <img
                        src="/assets/assets/images/icon_info.svg"
                        alt="maturity instructions"
                        onerror="this.onerror=null;this.src='/assets/assets/images/icon_info.png';"
                    />
                </a>
                <div class="col-md-10 question-text question-type-text info">
                    {{ 'sitnet_maturity_instructions' | translate }}
                </div>
            </div>
        </div>

        <div class="col-md-12" [hidden]="!isPreview">
            <div tabindex="0" class="row pointer" (click)="exitPreview()" (keyup.enter)="exitPreview()">
                <a class="col-md-1" style="margin-top: 7px;">
                    <img
                        src="/assets/assets/images/icon_info.svg"
                        alt="exit preview"
                        onerror="this.onerror=null;this.src='/assets/assets/images/icon_info.png';"
                    />
                </a>
                <div class="col-md-10 question-text question-type-text info">
                    {{ 'sitnet_exit_preview' | translate }}
                </div>
            </div>
        </div>
    </div>
</div>
