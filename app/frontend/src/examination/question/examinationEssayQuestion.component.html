<div class="row" [hidden]="!sq.expectedWordCount">
    <div class="col-md-12">
        <small
            >{{ 'sitnet_essay_length_recommendation' | translate }}:&nbsp; {{ sq.expectedWordCount }} ({{
                'sitnet_approximately' | translate
            }}
            {{ (sq.expectedWordCount || 0) * 8 }} {{ 'sitnet_characters' | translate }})
        </small>
    </div>
</div>
<div class="row" *ngIf="sq.essayAnswer">
    <div class="col-md-12">
        <ckeditor
            aria-label="answer editor"
            rows="10"
            cols="80"
            #ck="ngModel"
            [(ngModel)]="sq.essayAnswer.answer"
        ></ckeditor>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <small class="sitnet-info-text" *ngIf="sq.autosaved">
            {{ 'sitnet_autosaved' | translate }}:&nbsp;{{ sq.autosaved | date: 'HH:mm' }}
        </small>
        <small class="sitnet-info-text" *ngIf="!sq.autosaved">
            &nbsp;
        </small>
    </div>
</div>

<div class="row">
    <div class="col-md-3 question-type-text">
        <span *ngIf="sq.evaluationType == 'Selection'">
            {{ 'sitnet_evaluation_select' | translate }}
        </span>
        <span *ngIf="sq.evaluationType !== 'Selection'">
            {{ sq.derivedMaxScore }} {{ 'sitnet_unit_points' | translate }}
        </span>
    </div>
    <div *ngIf="exam.implementation !== 'CLIENT_AUTH'">
        <div class="col-md-8 pull-right">
            <div class="row mart10" [hidden]="!sq.essayAnswer?.attachment?.fileName">
                <span class="pull-right">
                    <span class="padr10 filename-text">{{ sq.essayAnswer?.attachment?.fileName | uppercase }}</span>
                    <a
                        tabindex="0"
                        class="pointer green_button right-for-section marr15"
                        (click)="removeQuestionAnswerAttachment()"
                        (keyup.enter)="removeQuestionAnswerAttachment()"
                    >
                        {{ 'sitnet_remove_answer_attachment' | translate }}
                        <img
                            src="/assets/assets/images/icon_attachment.svg"
                            alt="attachment"
                            onerror="this.onerror=null;this.src='/assets/assets/images/icon_attachment.png';"
                        />
                    </a>
                </span>
            </div>
        </div>
    </div>
</div>
<div class="row mart10" *ngIf="sq.essayAnswer && !sq.essayAnswer.attachment">
    <div class="col-md-12">
        <button
            tabindex="0"
            class="pull-right pointer btn btn-success marr30"
            [disabled]="isPreview"
            (click)="selectFile()"
            (keyup.enter)="selectFile()"
        >
            {{ 'sitnet_upload_answer_attachment' | translate }}
            <img
                src="/assets/assets/images/icon_attachment.svg"
                alt="exam"
                onerror="this.onerror=null;this.src='/assets/assets/images/icon_attachment.png';"
            />
        </button>
        <span class="pull-right padr10 mart10 filename-text" *ngIf="!sq.essayAnswer?.attachment?.fileName">
            {{ 'sitnet_no_attachment' | translate }}
        </span>
    </div>
</div>
<div class="row mart10">
    <div class="col-md-12">
        <button (click)="saveAnswer()" class="pull-right pointer btn btn-success marr30" [disabled]="isPreview">
            {{ 'sitnet_save' | translate }}
        </button>
    </div>
</div>
