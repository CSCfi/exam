<div class="exam-border col-md-12">
    <div class="col-md-12 mart40" ng-if="!$ctrl.collaborative">
        <div class="review-list-title">
            {{'sitnet_exam_basic_information' | translate}}
        </div>
    </div>

    <div class="col-md-12">
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_exam_name' | translate}}
            </div>
            <div class="col-md-6">
                <div class="">{{$ctrl.exam.name}}</div>
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_course_name' | translate}}
            </div>
            <div class="col-md-6">
                <div class="">{{$ctrl.exam.course.name}}</div>
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_exam_validity' | translate}}
            </div>
            <div class="col-md-6">
                {{$ctrl.exam.examActiveStartDate | date:'dd.MM.yyyy'}} - {{$ctrl.exam.examActiveEndDate |
                date:'dd.MM.yyyy'}}
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_exam_amount_questions' | translate}}
            </div>
            <div class="col-md-6" ng-if="$ctrl.exam">
                {{$ctrl.getQuestionCounts()}}
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_exam_amount_reservations' | translate}} / {{'sitnet_exam_amount_participations' | translate}}
            </div>
            <div class="col-md-6" ng-if="$ctrl.reviews">
                {{$ctrl.gradedCount}} / {{$ctrl.getRegisteredCount()}} ({{$ctrl.gradedCount / $ctrl.getRegisteredCount()
                * 100 | number : 1}}%)
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_exam_average_time' | translate}}
            </div>
            <div class="col-md-6" ng-if="$ctrl.reviews.length > 0">
                {{$ctrl.getAverageTime() | number : 0}} min
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_aborted_exams' | translate}}
            </div>
            <div class="col-md-6">
                <a class="pointer bold underline" ng-if="$ctrl.reviews.length > 0" ng-click="$ctrl.openAborted()">
                    {{$ctrl.abortedExams.length}}
                </a>
                <sup class="padl05">
                    <img
                        popover-placement="right"
                        popover-trigger="'mouseenter'"
                        uib-popover="{{'sitnet_aborted_description' | translate}}"
                        src="Images/icon_tooltip.svg"
                        alt="exam"
                        onerror="this.onerror=null;this.src='Images/icon_tooltip.png'"
                    />
                </sup>
            </div>
        </div>
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_no_shows' | translate}}
            </div>
            <div class="col-md-6">
                <a class="pointer bold underline" ng-click="$ctrl.openNoShows()">
                    {{$ctrl.noShows.length}}
                </a>
                <sup class="padl05">
                    <img
                        popover-placement="right"
                        popover-trigger="'mouseenter'"
                        uib-popover="{{'sitnet_no_shows_description' | translate}}"
                        src="Images/icon_tooltip.svg"
                        alt="exam"
                        onerror="this.onerror=null;this.src='Images/icon_tooltip.png'"
                    />
                </sup>
            </div>
        </div>
    </div>

    <div class="col-md-12 mart40">
        <div class="review-list-title">
            {{'sitnet_feedback_summary' | translate}}
        </div>
    </div>

    <div class="col-md-12">
        <div class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{'sitnet_feedback_messages_read' | translate}}
            </div>
            <div class="col-md-6" ng-if="$ctrl.reviews">
                {{$ctrl.getReadFeedback()}} / {{$ctrl.getTotalFeedback()}} ({{$ctrl.getFeedbackPercentage() | number :
                1}}%)
            </div>
        </div>
    </div>

    <div class="col-md-12 mart40">
        <div class="review-list-title">
            {{'sitnet_exam_grade_distribution' | translate}}
        </div>
    </div>

    <div class="col-md-12" ng-if="$ctrl.gradeDistribution">
        <div ng-repeat="(grade, amount) in $ctrl.gradeDistribution" class="row col-md-12 margin-20">
            <div class="col-md-3 exam-basic-title">
                {{ grade }}
            </div>
            <div class="col-md-9">
                {{ amount }} ({{amount / $ctrl.gradedCount * 100 | number: 2}} %)
            </div>
        </div>
    </div>
    <div style="height:50%;width:50%;padding-top:40%;">
        <canvas
            id="doughnut"
            class="chart chart-doughnut"
            chart-data="$ctrl.gradeDistributionData"
            chart-labels="$ctrl.gradeDistributionLabels"
        >
        </canvas>
    </div>

    <div class="col-md-12 mart40">
        <div class="review-list-title">
            {{'sitnet_exam_grade_time' | translate}}
        </div>
    </div>

    <div style="height:50%;width:50%;padding-top:10%;">
        <canvas
            id="line"
            class="chart chart-line"
            chart-data="$ctrl.gradeTimeData"
            chart-labels="$ctrl.gradeTimeLabels"
            chart-series="$ctrl.chartSeries"
            chart-options="$ctrl.chartOptions"
        >
        </canvas>
    </div>

    <div class="col-md-12 mart40">
        <div class="review-list-title">
            {{'sitnet_exam_question_scores_report' | translate}}
        </div>
    </div>

    <div class="col-md-12" ng-if="$ctrl.reviews.length > 0">
        <div class="margin-20">
            <a class="pointer" ng-click="$ctrl.printQuestionScoresReport()">
                {{'sitnet_exam_print_question_scores_report' | translate}}
            </a>
        </div>
    </div>
</div>
