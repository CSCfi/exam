<!-- language inspection controls  -->
<div class="review-toolbar-wrapper padl0 padr0 marb20" *ngIf="isOwnerOrAdmin() || isUnderLanguageInspection()">
    <span class="pull-right">
        <span [hidden]="isUnderLanguageInspection()">
            <div *ngIf="!isReadOnly()" class="review-attachment-button exam-questions-buttons marl10">
                <button (click)="saveAssessment()" [disabled]="!valid" class="btn inspection-button">
                    {{ 'sitnet_save' | translate }}
                </button>
            </div>
            <div *ngIf="isReadOnly()" class="review-attachment-button exam-questions-buttons marl15">
                <a class="pointer preview" uiSref="examEditor" [uiParams]="{ id: exam.parent.id, tab: 4 }">
                    {{ 'sitnet_close' | translate }}</a
                >
            </div>
        </span>

        <div *ngIf="!isReadOnly()" class="review-attachment-button exam-questions-buttons marl10">
            <button
                class="btn inspection-button"
                [ngClass]="getNextState().warn ? 'warning-filled' : ''"
                [disabled]="
                    !getNextState().canProceed || !valid || (getNextState().validate && !getNextState().validate(exam))
                "
                (click)="proceed()"
            >
                {{ getNextState().text | translate }}
            </button>
        </div>
        <div
            *ngIf="!isReadOnly() && getNextState().alternateState"
            class="review-attachment-button exam-questions-buttons marl10"
        >
            <button
                class="btn inspection-button"
                [ngClass]="getNextState().alternateState.warn ? 'warning-filled' : 'btn-primary'"
                [disabled]="
                    !getNextState().alternateState.canProceed ||
                    !valid ||
                    (getNextState().alternateState.validate && !getNextState().alternateState.validate(exam))
                "
                (click)="proceed(true)"
            >
                {{ getNextState().alternateState.text | translate }}
            </button>
        </div>
        <div
            *ngIf="!isReadOnly() && getNextState().alternateState"
            class="review-attachment-button exam-questions-buttons"
        >
            <span *ngIf="isMissingStatement()" class="text-danger"
                >&nbsp; <i class="bi-exclamation-circle"></i>&nbsp;{{ getNextState().hint | translate }}</span
            >
        </div>
    </span>
</div>
